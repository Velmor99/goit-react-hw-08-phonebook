(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{13:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1),c="contacts/filter",a=Object(r.b)("contacts/addRequest"),u=Object(r.b)("contacts/successRequest"),o=Object(r.b)("contacts/errorRequest"),s=Object(r.b)("contact/addRequest"),i=Object(r.b)("contact/successRequest"),l=Object(r.b)("contact/errorRequest"),b=Object(r.b)("remove/addRequest"),g=Object(r.b)("remove/successRequest"),f=Object(r.b)("remove/errorRequest"),d=Object(r.b)(c);t.b={removeContactsRequest:b,removeContactsSuccess:g,removeContactsError:f,addContactsRequest:a,addContactsSuccess:u,addContactsError:o,getContactsRequest:s,getContactsSuccess:i,getContactsError:l,changeFilter:d}},20:function(e,t,n){e.exports={menu:"userMenu_menu__1DhOA",menuTitle:"userMenu_menuTitle__1GACw",menuButton:"userMenu_menuButton__j259o",button:"userMenu_button__3tkwj"}},22:function(e,t,n){"use strict";var r=n(17),c=n.n(r),a=n(3);c.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com/";var u=function(e){c.a.defaults.headers.common.Authorization="Bearer ".concat(e)},o=function(){c.a.defaults.headers.common.Authorization=""};t.a={register:function(e){return function(t){t(a.a.registerRequest()),c.a.post("/users/signup",e).then((function(e){u(e.data.token),t(a.a.registerSuccess(e.data.user))})).catch((function(e){return t(a.a.registerError(e.message))}))}},logIn:function(e){return function(t){t(a.a.loginRequest()),c.a.post("/users/login",e).then((function(e){u(e.data.token),t(a.a.loginSuccess(e.data))})).catch((function(e){return t(a.a.loginError(e.message))}))}},logOut:function(){return function(e){e(a.a.logoutRequest()),c.a.post("/users/logout").then((function(){o(),e(a.a.logoutSuccess())})).catch((function(t){return e(a.a.logoutError(t.message))}))}},getCurrentUser:function(){return function(e,t){var n=t().auth.token;n&&(u(n),e(a.a.getCurrentUserRequest()),c.a.get("/users/current").then((function(t){var n=t.data;return e(a.a.getCurrentUserSuccess(n))})).catch((function(e){return a.a.getCurrentUserError(e.message)})))}}}},3:function(e,t,n){"use strict";var r=n(1),c=Object(r.b)("auth/registerRequest"),a=Object(r.b)("auth/registerSuccess"),u=Object(r.b)("auth/registerError"),o=Object(r.b)("auth/loginRequest"),s=Object(r.b)("auts/loginSuccess"),i=Object(r.b)("auth/loginError"),l=Object(r.b)("auth/logoutRequest"),b=Object(r.b)("auth/logoutSuccess"),g=Object(r.b)("auth/logoutError"),f=Object(r.b)("auth/getCurrentUserRequest"),d=Object(r.b)("auth/getCurrentUserSuccess"),m=Object(r.b)("auth/getCurrentUserError");t.a={registerRequest:c,registerSuccess:a,registerError:u,loginRequest:o,loginSuccess:s,loginError:i,logoutRequest:l,logoutSuccess:b,logoutError:g,getCurrentUserRequest:f,getCurrentUserSuccess:d,getCurrentUserError:m}},44:function(e,t,n){e.exports={nav:"navBar_nav__1l1Si",register:"navBar_register__3kVtR"}},48:function(e,t,n){e.exports=n(79)},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var r,c,a,u,o,s=n(0),i=n.n(s),l=n(21),b=n.n(l),g=n(29),f=n(30),d=n(32),m=n(31),O=n(5),j=n(16),h=n(11),p={isAuthentificated:function(e){return e.auth.token},getUserName:function(e){return e.auth.user.name}},E=n(22),C=n(20),v=n.n(C),S=Object(h.b)((function(e){return{currentName:p.getUserName(e)}}),{onLogout:E.a.logOut})((function(e){var t=e.currentName,n=e.onLogout;return i.a.createElement("div",{className:v.a.menu},i.a.createElement("h2",{className:v.a.menuTitle},"Welcome, ",t),i.a.createElement("div",{className:v.a.menuButton},i.a.createElement("button",{type:"button",onClick:n,className:v.a.button},"Logout")))})),R=n(44),y=n.n(R),k={display:"block",height:"44px",textDecoration:"none",paddingRight:"20px",paddingLeft:"20px",color:"#41292C",fontSize:"20px",fontWeight:500,fontFamily:"Roboto, Verdana, sans-serif",lineHeight:"44px"},q={backgroundColor:"#365B42",color:"#9381FF"},U=Object(h.b)((function(e){return{isAuthenteficated:p.isAuthentificated(e)}}),null)((function(e){var t=e.isAuthenteficated;return i.a.createElement("nav",{className:y.a.nav},t?i.a.createElement(S,null):i.a.createElement(i.a.Fragment,null,i.a.createElement(j.b,{to:"/",exact:!0,style:k,activeStyle:q},"Register"),i.a.createElement(j.b,{to:"/login",exact:!0,style:k,activeStyle:q},"Login")))})),_=[{path:"/",label:"Register",exact:!0,component:Object(s.lazy)((function(){return n.e(5).then(n.bind(null,90))})),private:!1,restricted:!0},{path:"/login",label:"Login",exact:!0,component:Object(s.lazy)((function(){return n.e(4).then(n.bind(null,91))})),private:!1,restricted:!0},{path:"/contacts",label:"Contacts",exact:!0,component:Object(s.lazy)((function(){return Promise.all([n.e(6),n.e(3)]).then(n.bind(null,92))})),private:!0,restricted:!1}],A=n(24),x=Object(h.b)((function(e){return{isAuthenteficated:p.isAuthentificated(e)}}))((function(e){var t=e.component,n=e.isAuthenteficated,r=Object(A.a)(e,["component","isAuthenteficated"]);return i.a.createElement(O.b,Object.assign({},r,{render:function(e){return n?i.a.createElement(t,e):i.a.createElement(O.a,{to:"/login"})}}))})),N=Object(h.b)((function(e){return{isAuthenteficated:p.isAuthentificated(e)}}),null)((function(e){var t=e.component,n=e.isAuthenteficated,r=e.restricted,c=Object(A.a)(e,["component","isAuthenteficated","restricted"]);return i.a.createElement(O.b,Object.assign({},c,{render:function(e){return n&&r?i.a.createElement(O.a,{to:"/contacts"}):i.a.createElement(t,e)}}))})),w=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(U,null),i.a.createElement(s.Suspense,{fallback:i.a.createElement("h1",null,"Loading...")},i.a.createElement(O.d,null,_.map((function(e){return e.private?i.a.createElement(x,Object.assign({key:e.path},e)):i.a.createElement(N,Object.assign({key:e.path},e,{restricted:e.restricted}))})))))}}]),n}(s.Component),B=Object(h.b)(null,{onGetCurrentUser:E.a.getCurrentUser})(w),L=n(4),z=n(47),F=n(6),M=n(1),D=n(13),G=Object(M.c)([],(r={},Object(L.a)(r,D.b.addContactsSuccess,(function(e,t){return""===t.payload.name||""===t.payload.number?e:[].concat(Object(z.a)(e),[t.payload])})),Object(L.a)(r,D.b.getContactsSuccess,(function(e,t){return t.payload})),Object(L.a)(r,D.b.removeContactsSuccess,(function(e,t){return e.filter((function(e){return e.id!==t.payload}))})),r)),T=Object(M.c)("",Object(L.a)({},D.a,(function(e,t){return t.payload}))),I=Object(M.c)(!1,(c={},Object(L.a)(c,D.b.getContactsRequest,(function(e,t){return!0})),Object(L.a)(c,D.b.getContactsSuccess,(function(e,t){return!1})),Object(L.a)(c,D.b.getContactsSuccess,(function(e,t){return!1})),Object(L.a)(c,D.b.addContactsRequest,(function(e,t){return!0})),Object(L.a)(c,D.b.addContactsSuccess,(function(e,t){return!1})),Object(L.a)(c,D.b.addContactsError,(function(e,t){return!1})),c)),J=Object(F.c)({items:G,loading:I,filter:T}),V=n(3),W={name:null,email:null},H=Object(M.c)(W,(a={},Object(L.a)(a,V.a.registerSuccess,(function(e,t){return t.payload.user})),Object(L.a)(a,V.a.loginSuccess,(function(e,t){return t.payload.user})),Object(L.a)(a,V.a.getCurrentUserSuccess,(function(e,t){return t.payload})),Object(L.a)(a,V.a.logoutSuccess,(function(){return W})),a)),P=Object(M.c)(null,(u={},Object(L.a)(u,V.a.registerSuccess,(function(e,t){return t.token})),Object(L.a)(u,V.a.loginSuccess,(function(e,t){return t.payload.token})),Object(L.a)(u,V.a.logoutSuccess,(function(){return null})),u)),K=Object(M.c)(null,(o={},Object(L.a)(o,V.a.registerError,(function(e,t){return t.payload})),Object(L.a)(o,V.a.loginError,(function(e,t){return t.payload})),Object(L.a)(o,V.a.logoutError,(function(e,t){return t.payload})),Object(L.a)(o,V.a.getCurrentUserError,(function(e,t){return t.payload})),o)),Q=Object(F.c)({user:H,token:P,error:K}),X=n(15),Y=n(45),Z={key:"auth",storage:n.n(Y).a,whitelist:["token"]},$=Object(M.a)({middleware:Object(M.d)({serializableCheck:{ignoredActions:[X.a,X.f,X.b,X.c,X.d,X.e]}}),reducer:{contacts:J,auth:Object(X.g)(Z,Q)}}),ee=Object(X.h)($),te=$,ne=n(46);n(77),n(78);b.a.render(i.a.createElement(h.a,{store:te},i.a.createElement(ne.a,{loading:null,persistor:ee},i.a.createElement(j.a,null,i.a.createElement(B,null)))),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.310e94f7.chunk.js.map